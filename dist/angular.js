import{signal as r,computed as g,inject as a,DestroyRef as c}from"@angular/core";function l(t,n){let e=r(t.getState()[n]),i=r(t.getErrors()[n]),o=r(!!t.getTouched()[n]);try{let s=a(c),u=t.subscribe(()=>{e.set(t.getState()[n]),i.set(t.getErrors()[n]),o.set(!!t.getTouched()[n])});s.onDestroy(()=>u())}catch{console.warn("BitForm: createBitSignal deve ser chamado em um contexto de inje\xE7\xE3o (constructor/field init).")}return{value:e.asReadonly(),error:g(()=>o()?i():void 0),setValue:s=>t.setState({[n]:s}),onBlur:()=>t.markTouched(n)}}function S(t){let n=r(t.isDirty()),e=r(t.isValidating);try{let i=a(c),o=t.subscribe(()=>{n.set(t.isDirty()),e.set(t.isValidating)});i.onDestroy(()=>o())}catch{}return{isDirty:n.asReadonly(),isValidating:e.asReadonly(),reset:()=>t.reset()}}export{l as createBitSignal,S as useBitFormStatus};
